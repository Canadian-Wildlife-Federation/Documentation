
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>CABD REST Services (API Endpoints) &#8212; Canadian Aquatic Barriers Database 0.1 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=4fea3ae4a0a4ba949df0a89bbae557cc2ce861ae" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom_cwf_book.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Data Dictionary" href="docs_tech_arch_data_dict.html" />
    <link rel="prev" title="CABD Feature and Database Models" href="docs_tech_arch_models.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/cwf_logo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  CABD User Resources
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../docs_user/docs_user_web_map.html">
   Web Mapping Interface
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../docs_user/docs_user_data_catalogue.html">
   Data Catalogue
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../docs_user/docs_user_engagement.html">
   Stakeholder Engagement
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../docs_user/docs_user_engagement/docs_user_engagement_use_cases.html">
     Use Cases
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  CABD Technical Documents
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../docs_tech_arch.html">
   Application Architecture
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="docs_tech_arch_models.html">
     CABD Feature and Database Models
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     CABD REST Services (API Endpoints)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="docs_tech_arch_data_dict.html">
     Data Dictionary
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="docs_tech_arch_tiles.html">
     Vector Tile Service
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../docs_tech_process.html">
   Barrier Data Processing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../docs_tech_process/docs_tech_process_dams.html">
     Dams
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../docs_tech_process/docs_tech_process_fishways.html">
     Fishways
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../docs_tech_process/docs_tech_process_waterfalls.html">
     Waterfalls
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  CHyF Documents
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../docs_chyf/docs_chyf_tools.html">
   CHyF Tools
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../docs_chyf/docs_chyf_tools/docs_chyf_tools_logical_model.html">
     Logical Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../docs_chyf/docs_chyf_tools/docs_chyf_tools_data_model.html">
     Data Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../docs_chyf/docs_chyf_tools/docs_chyf_tools_flowpaths.html">
     Flowpath Processing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../docs_chyf/docs_chyf_tools/docs_chyf_tools_catchments.html">
     Catchment Delineation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../docs_chyf/docs_chyf_tools/docs_chyf_tools_specification.html">
     Input Specifications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../docs_chyf/docs_chyf_tools/docs_chyf_tools_stream_order.html">
     Stream Order
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../docs_chyf/docs_chyf_process.html">
   Hydro Network Processing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../docs_chyf/docs_chyf_process/docs_chyf_process_steps.html">
     Processing Steps
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../docs_chyf/docs_chyf_process/docs_chyf_process_troubleshoot.html">
     Troubleshooting
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            <p></p>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/Canadian-Wildlife-Federation"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/docs_tech/docs_tech_arch/docs_tech_arch_api.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Topics
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overview">
   Overview
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#projection">
     Projection
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#max-features">
     Max Features
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#api-specification">
     API Specification
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#api-end-points">
   API End Points
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#feature-type-end-points">
     Feature Type End Points
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#feature-end-points">
     Feature End Points
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#filter">
     Filter
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#format">
     Format
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#maximum-features">
     Maximum Features
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#feature-data-source-end-point">
   Feature Data Source End Point
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#feature-datasource-endpoint-format">
     Format
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>CABD REST Services (API Endpoints)</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Topics </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overview">
   Overview
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#projection">
     Projection
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#max-features">
     Max Features
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#api-specification">
     API Specification
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#api-end-points">
   API End Points
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#feature-type-end-points">
     Feature Type End Points
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#feature-end-points">
     Feature End Points
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#filter">
     Filter
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#format">
     Format
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#maximum-features">
     Maximum Features
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#feature-data-source-end-point">
   Feature Data Source End Point
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#feature-datasource-endpoint-format">
     Format
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="cabd-rest-services-api-endpoints">
<span id="cabd-rest-services"></span><h1>CABD REST Services (API Endpoints)<a class="headerlink" href="#cabd-rest-services-api-endpoints" title="Permalink to this headline">#</a></h1>
<section id="overview">
<span id="api-overview"></span><h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">#</a></h2>
<section id="projection">
<span id="api-projection"></span><h3>Projection<a class="headerlink" href="#projection" title="Permalink to this headline">#</a></h3>
<p>All coordinates are returned in latitude/longitude (EPSG:4617).</p>
</section>
<section id="max-features">
<span id="api-max-features"></span><h3>Max Features<a class="headerlink" href="#max-features" title="Permalink to this headline">#</a></h3>
<p>For all the feature API end points below, the application returns a maximum of 15000 features. This is configurable and may be modified if required.</p>
</section>
<section id="api-specification">
<span id="id1"></span><h3>API Specification<a class="headerlink" href="#api-specification" title="Permalink to this headline">#</a></h3>
<p>The latest Open API v3 specification can be found on the server:</p>
<p><a class="reference external" href="https://cabd-web.azurewebsites.net/cabd-api/v3/api-docs.yaml">https://cabd-web.azurewebsites.net/cabd-api/v3/api-docs.yaml</a> (YAML)</p>
<p><a class="reference external" href="https://cabd-web.azurewebsites.net/cabd-api/v3/api-docs">https://cabd-web.azurewebsites.net/cabd-api/v3/api-docs</a> (JSON)</p>
</section>
</section>
<section id="api-end-points">
<span id="api-endpoints"></span><h2>API End Points<a class="headerlink" href="#api-end-points" title="Permalink to this headline">#</a></h2>
<p>The base API server for the CABD end points is: <code class="docutils literal notranslate"><span class="pre">https://cabd-web.azurewebsites.net/cabd-api</span></code>.</p>
<section id="feature-type-end-points">
<span id="feature-type-endpoints"></span><h3>Feature Type End Points<a class="headerlink" href="#feature-type-end-points" title="Permalink to this headline">#</a></h3>
<p>The output format of all Feature Type End points is <code class="docutils literal notranslate"><span class="pre">json</span></code>.</p>
<p>Existing feature types are: <code class="docutils literal notranslate"><span class="pre">barriers</span></code>, <code class="docutils literal notranslate"><span class="pre">dams</span></code>, <code class="docutils literal notranslate"><span class="pre">waterfalls</span></code>, <code class="docutils literal notranslate"><span class="pre">fishways</span></code>, <code class="docutils literal notranslate"><span class="pre">medium</span></code>, and <code class="docutils literal notranslate"><span class="pre">big</span></code>. See <a class="reference internal" href="docs_tech_arch_models.html#implemented-feature-model"><span class="std std-ref">Implemented Feature Model</span></a> for definitions of each feature type.</p>
<p><code class="docutils literal notranslate"><span class="pre">/features/types/</span></code></p>
<blockquote>
<div><p>Returns the list of feature types. Each feature type object includes a URL that lists the metadata for that feature type and a URL to list all features for that time.  Some types may be super types that contain data from a collection of other types (for example barriers is a super type that contains dam and waterfall features).</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">/features/types/&lt;type&gt;</span></code></p>
<blockquote>
<div><p>Returns a description of the feature type. This description includes all attributes, names, and other metadata associated with the feature type. In addition, the metadata includes display details for attributes, including the details of which attributes should be included in the “simple” display and which included in the “all” attributes display.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">https://cabd-web.azurewebsites.net/cabd-api/features/types/dams</span></code> returns a <code class="docutils literal notranslate"><span class="pre">json</span></code> with the description of the <code class="docutils literal notranslate"><span class="pre">dams</span></code> feature type.</p>
</div></blockquote>
</section>
<section id="feature-end-points">
<span id="feature-endpoints"></span><h3>Feature End Points<a class="headerlink" href="#feature-end-points" title="Permalink to this headline">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">/features/&lt;feature-id&gt;</span></code></p>
<blockquote>
<div><p>Returns a single feature based on its ID, which is provided as <code class="docutils literal notranslate"><span class="pre">&lt;feature-id&gt;</span></code>. This will include all of the attributes specific to the type of feature. Thus, the schema of this resource is variable based on the feature type.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">/features</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">/features?bbox=&lt;min_long&gt;,&lt;min_lat&gt;,&lt;max_long&gt;,&lt;max_lat&gt;&amp;types=&lt;type&gt;,&lt;type&gt;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">/features?point=&lt;longitude&gt;,&lt;latitude&gt;&amp;max-results=&lt;n&gt;&amp;types=&lt;type&gt;,&lt;type&gt;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">/features?filter=&lt;filter&gt;&amp;filter=&lt;filter&gt;</span></code></p>
<blockquote>
<div><dl class="simple">
<dt>Returns all features that match the given query parameters. Multiple query options can be provided in a single request, however only one of bbox or point should be specified. Query options include:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bbox</span></code> - Only include features which intersect the provided bounding box. The bounding box coordinates should be provided in latitude/longitude: <code class="docutils literal notranslate"><span class="pre">&lt;min_long&gt;,&lt;min_lat&gt;,&lt;max_long&gt;,&lt;max_lat&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">point</span></code> - Returns the nearest features to the given point.  The point should be provided in latitude/longitude: <code class="docutils literal notranslate"><span class="pre">&lt;longitude&gt;,&lt;latitude&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max-results</span></code> - The maximum number of features to return.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">types</span></code> - The feature types to query.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">filter</span></code> - A filter string that filters features based on attributes. Can be provided more than once. Multiple filters are combined using logical AND. See below for more details on the filter format.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">/features/&lt;type&gt;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">/features/&lt;type&gt;?bbox=&lt;min_long&gt;,&lt;min_lat&gt;,&lt;max_long&gt;,&lt;max_lat&gt;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">/features/&lt;type&gt;?point=&lt;longitude&gt;,&lt;latitude&gt;&amp;max-results=&lt;n&gt;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">/features/&lt;type&gt;?filter=&lt;filter&gt;&amp;filter=&lt;filter&gt;</span></code></p>
<blockquote>
<div><p>Returns a list of the features of the given type. Query options are the same as for the /features endpoint (see above).</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">/tiles/z/x/y.mvt</span></code></p>
<blockquote>
<div><p>Returns a vector tile of all barrier features.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">/tiles/&lt;type&gt;/z/x/y.mvt</span></code></p>
<blockquote>
<div><p>Returns a vector tile of all features for the given type.</p>
</div></blockquote>
</section>
<section id="filter">
<span id="feature-endpoints-filter"></span><h3>Filter<a class="headerlink" href="#filter" title="Permalink to this headline">#</a></h3>
<p>Provides a basic option for filtering features based on the feature attributes.</p>
<ul class="simple">
<li><p>If the filter attribute name provided is not valid for the feature type, then an error will be returned (HTTP status code <code class="docutils literal notranslate"><span class="pre">400</span> <span class="pre">-</span> <span class="pre">Bad</span> <span class="pre">Request</span></code>)</p></li>
<li><p>Works in addition to the <code class="docutils literal notranslate"><span class="pre">bbox</span></code> filter described above (logically ANDed with the bbox)</p></li>
<li><p>Multiple filters can be provided and they will be combined with logical <code class="docutils literal notranslate"><span class="pre">AND</span></code>, represented by the <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> symbol in API requests</p></li>
<li><p>String filters are case insensitive (for <code class="docutils literal notranslate"><span class="pre">eq</span></code>, <code class="docutils literal notranslate"><span class="pre">neq</span></code>, <code class="docutils literal notranslate"><span class="pre">in</span></code> and <code class="docutils literal notranslate"><span class="pre">like</span></code> operators)</p></li>
</ul>
<p>Filter request format:</p>
<p><code class="docutils literal notranslate"><span class="pre">filter=&lt;attribute&gt;:&lt;operator&gt;:&lt;values&gt;</span></code>, where:</p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;attribute&gt;</span></code></p></td>
<td><p>The attribute key described in the feature type schema (<code class="docutils literal notranslate"><span class="pre">features/types/&lt;type&gt;</span></code>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;operator&gt;</span></code></p></td>
<td><p>The filter operator.  Value depends on data type.  Supported operators include: <code class="docutils literal notranslate"><span class="pre">in</span></code>, <code class="docutils literal notranslate"><span class="pre">notin</span></code>, <code class="docutils literal notranslate"><span class="pre">eq</span></code>, <code class="docutils literal notranslate"><span class="pre">neq</span></code>, <code class="docutils literal notranslate"><span class="pre">lt</span></code>, <code class="docutils literal notranslate"><span class="pre">lte</span></code>, <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">gte</span></code>, <code class="docutils literal notranslate"><span class="pre">like</span></code>, <code class="docutils literal notranslate"><span class="pre">isnull</span></code>, <code class="docutils literal notranslate"><span class="pre">notnull</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;values&gt;</span></code></p></td>
<td><p>Values for the filter.  For <code class="docutils literal notranslate"><span class="pre">in</span></code> and <code class="docutils literal notranslate"><span class="pre">notin</span></code> operators this is a comma separated list of values. For the <code class="docutils literal notranslate"><span class="pre">isnull</span></code> and <code class="docutils literal notranslate"><span class="pre">notnull</span></code> operators this value should be empty (example: <code class="docutils literal notranslate"><span class="pre">filter=field:isnull:</span></code>).</p></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<p><code class="docutils literal notranslate"><span class="pre">/features/dams?bbox=0,0,1,1&amp;filter=passability_status_code:in:1,2&amp;filter=nhn_workunit_id:eq:08GABX1</span></code></p>
<p>This request will return all dam features with a passability status code of 1 (Barrier) or 2 (Partial Barrier) in the NHN work unit 08GABX1 within the bounding box [(0 0), (1 1)].</p>
</section>
<section id="format">
<span id="feature-endpoints-format"></span><h3>Format<a class="headerlink" href="#format" title="Permalink to this headline">#</a></h3>
<p>The default output format is GeoJSON, however by supplying the format query parameter additional formats are supported.</p>
<p>Example:</p>
<p><code class="docutils literal notranslate"><span class="pre">/features/dams_medium_large?filter=nhn_workunit_id:eq:08GABX1&amp;format=geopackage</span></code></p>
<p>Supported Formats:</p>
<p>The following formats are supported for feature endpoints that return a collection of features.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geopackage</span></code> (or <code class="docutils literal notranslate"><span class="pre">gpkg</span></code>) - outputs geopackage files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shp</span></code> – outputs shapefile</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kml</span></code> – outputs kml file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">json</span></code>/<code class="docutils literal notranslate"><span class="pre">geojson</span></code> - outputs geojson (default)</p></li>
</ul>
<p>The single feature endpoints only return geojson output.</p>
</section>
<section id="maximum-features">
<span id="feature-endpoints-max-features"></span><h3>Maximum Features<a class="headerlink" href="#maximum-features" title="Permalink to this headline">#</a></h3>
<p>A maximum of 15,000 features will be returned.  If a feature api request would result in more than 15,000 features the system will return an error with a HTTP Status code of 403 (Forbidden), and a message telling the user they should add additional filter to limit the query results.</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">15000</span></code> is an application parameter and can be modified if required (see <code class="docutils literal notranslate"><span class="pre">application.properties</span></code> file).</p>
</section>
</section>
<section id="feature-data-source-end-point">
<span id="feature-datasource-endpoint"></span><h2>Feature Data Source End Point<a class="headerlink" href="#feature-data-source-end-point" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">/features/datasources/&lt;feature-id&gt;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">/features/datasources/&lt;feature-id&gt;?fields=all</span></code></p>
<blockquote>
<div><p>Returns the data source details for each attribute associated with the given feature id.  By default this returns a reduced set of attributes: <code class="docutils literal notranslate"><span class="pre">feature</span> <span class="pre">id</span></code>, <code class="docutils literal notranslate"><span class="pre">attribute</span> <span class="pre">field</span></code>, <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">source</span> <span class="pre">name</span></code>, and <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">source</span> <span class="pre">feature</span> <span class="pre">id</span></code>. To include the complete set of attributes (<code class="docutils literal notranslate"><span class="pre">feature</span> <span class="pre">id</span></code>, <code class="docutils literal notranslate"><span class="pre">attribute</span> <span class="pre">field</span></code>, <code class="docutils literal notranslate"><span class="pre">attribute</span> <span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">source</span> <span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">source</span> <span class="pre">date</span></code>, <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">source</span> <span class="pre">version</span></code>, <code class="docutils literal notranslate"><span class="pre">ata</span> <span class="pre">source</span> <span class="pre">feature</span> <span class="pre">id</span></code>, add the query parameter <code class="docutils literal notranslate"><span class="pre">fields=all</span></code> to the request.</p>
</div></blockquote>
<section id="feature-datasource-endpoint-format">
<span id="id2"></span><h3>Format<a class="headerlink" href="#feature-datasource-endpoint-format" title="Permalink to this headline">#</a></h3>
<p>The default output format of this end point is CSV.</p>
<p>JSON format is also supported by providing the <code class="docutils literal notranslate"><span class="pre">format=json</span></code> query parameter: <code class="docutils literal notranslate"><span class="pre">/features/datasources/&lt;feature-id&gt;?format=json</span></code>.</p>
</section>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="docs_tech_arch_models.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">CABD Feature and Database Models</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="docs_tech_arch_data_dict.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Data Dictionary</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
      &copy; Copyright 2022, Canadian Wildlife Federation.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>